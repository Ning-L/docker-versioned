---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Version-stable Docker Images

<!-- badges: start -->
[![License](https://img.shields.io/github/license/mcanouil/docker-versioned)](LICENSE)
[![GitHub tag](https://img.shields.io/github/tag/mcanouil/docker-versioned.svg?label=latest%20tag)](https://github.com/mcanouil/docker-versioned)
[![Weekly Build & Push](https://github.com/mcanouil/docker-versioned/actions/workflows/weekly.yml/badge.svg)](https://github.com/mcanouil/docker-versioned/actions/workflows/weekly.yml)  
[![Build & Push Core images](https://github.com/mcanouil/docker-versioned/actions/workflows/core.yml/badge.svg)](https://github.com/mcanouil/docker-versioned/actions/workflows/core.yml)
[![Build & Push UMR images](https://github.com/mcanouil/docker-versioned/actions/workflows/umr.yml/badge.svg)](https://github.com/mcanouil/docker-versioned/actions/workflows/umr.yml)
<!-- badges: end -->

This is a repository for building automatically Docker images for R >= 4.0.0.

```{r, echo = FALSE, results = "asis"}
dt <- do.call("rbind", lapply(
  X = jsonlite::read_json(here::here("01-stacks/devel.json"))$stack,
  FUN = function(x) {
    img <- x$labels$org.opencontainers.image.title
    rver <- sprintf(
      "[![Latest Tag](https://img.shields.io/docker/v/%s.svg?sort=semver&label=latest)](https://hub.docker.com/r/%s)",
      img, img
    )
    desc <- x$labels$org.opencontainers.image.description
    c(
      sprintf("[%s](https://hub.docker.com/r/%s)", basename(img), img),
      desc,
      rver,
      sprintf("[![Docker Pulls](https://img.shields.io/docker/pulls/%s)](https://hub.docker.com/r/%s)", img, img)
    )
  }
))
colnames(dt) <- c("Image", "Description", "R", "Pull")
knitr::kable(dt, format = "markdown")
```

```mermaid
graph LR
    A[r-ver] --> B{umr1283}
    B --> D[rstudio]
    B --> E[ssh]
    B --> F[shiny]
```

_Note: Based on [rocker-org/rocker-versioned2](https://github.com/rocker-org/rocker-versioned2) build workflow._
